<h1>This is the main page</h1>

<button (click)="getAllStocks()">Show All</button>

<form [formGroup]="searchFilterForm">
    <label>Filter </label>
    <select id="searchFilter" formControlName="searchFilter" (change)="setSearchFilterType()">
        <option *ngFor="let filter of searchFilters" [ngValue]="filter">{{ filter }}</option>
    </select>
</form>

<!-- Search by symbol: -->
<ng-container *ngIf="selectedValue == 'Symbol'">
    <form #f="ngForm" (ngSubmit)=" searchStockBySymbol(f)">
        <p>
            <label>Symbol</label>
            <input type="text" [(ngModel)]="searchSymbol" name="searchSymbol" required>
        </p>
        <p>
            <button type="submit" [disabled]="!f.valid">Search By Symbol</button>
        </p>
    </form>
</ng-container>

<!-- Search by name: -->
<ng-container *ngIf="selectedValue == 'Name'">
    <form #f="ngForm" (ngSubmit)=" searchStockByName(f)">
        <p>
            <label>Name</label>
            <input type="text" [(ngModel)]="searchName" name="searchName" required>
        </p>
        <p>
            <button type="submit" [disabled]="!f.valid">Search By Name</button>
        </p>
    </form>
</ng-container>


<p>Stock Table:</p>
<div *ngFor="let stock of stocks">
    <p>
        <span>Symbol: {{stock.symbol}}</span><br>
        <span>Name: {{stock.name}}</span><br>
        <span>Quantity: {{stock.qty}}</span><br>
    </p>
</div>
